Ichimoku Report
================
Zan Grjol
2019 M04 16

Finding the optimal strategy for ichimoku indicator
---------------------------------------------------

This is a summary report of finding the best parameters for ichimoku strategy trading.

<!--html_preserve-->

<script type="application/json" data-for="htmlwidget-407f54ffbcceaff61d5c">{"x":{"visdat":{"1f1c4e63934":["function () ","plotlyVisDat"]},"cur_data":"1f1c4e63934","attrs":{"1f1c4e63934":{"x":{},"y":{},"z":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"surface","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"scene":{"xaxis":{"title":"rownames(matrix_final)"},"yaxis":{"title":"colnames(matrix_final)"},"zaxis":{"title":"matrix_final"}},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"colorbar":{"title":"matrix_final","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"colorscale":[["0","rgba(68,1,84,1)"],["1.22719122226289e-05","rgba(68,1,84,1)"],["1.71496234312122e-05","rgba(68,1,84,1)"],["4.12750101696791e-05","rgba(68,1,84,1)"],["6.47210420988783e-05","rgba(68,1,84,1)"],["0.000153419723355088","rgba(68,1,84,1)"],["0.000383299554446309","rgba(68,1,84,1)"],["0.000921960965656764","rgba(68,1,84,1)"],["0.00206910252689302","rgba(68,2,85,1)"],["0.00465961976668251","rgba(68,3,85,1)"],["0.00664656261052179","rgba(68,4,86,1)"],["0.0138558473985115","rgba(69,7,88,1)"],["0.0197285738880748","rgba(69,10,90,1)"],["0.0254756867048005","rgba(69,12,92,1)"],["0.0308933879852054","rgba(70,14,94,1)"],["0.0412307647123884","rgba(70,18,97,1)"],["0.0519159764930066","rgba(71,22,101,1)"],["0.0775177081555827","rgba(71,30,109,1)"],["0.112947251288821","rgba(72,41,120,1)"],["0.149404466036838","rgba(70,53,126,1)"],["0.196230995562067","rgba(65,67,133,1)"],["0.245594897136201","rgba(60,80,138,1)"],["0.335634070899309","rgba(49,105,142,1)"],["0.430326317306919","rgba(40,127,142,1)"],["1","rgba(253,231,37,1)"]],"showscale":true,"x":["10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39"],"y":["11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40"],"z":[[0.257024910743075,0.257962227860807,0.515394792393253,1.05506341578189,1.92313128011012,1.99214391759903,3.47558956173472,4.63559577404133,8.74912447100537,20.8614771030847,41.1508792609303,123.593559339473,186.861205938535,264.80353062644,280.787241270092,443.442180240039,380.101638031514,457.137330525523,422.755847003773,411.241252099937,253.724829172891,148.294876485132,112.873341504913,66.6328516082338,59.592848948942,47.3566072843053,39.287083962623,39.6637929766864,52.2402872306337,58.6748459667763],[null,0.453588402409929,0.621762173313942,0.902578241871518,1.21628700713248,1.62439917738397,2.09693440489926,2.62483909619353,5.05121327713888,9.60903984199334,20.3004255709554,57.2602174079279,109.67451389438,198.56138880049,251.78460308735,387.651107442848,304.819588802089,413.954968686857,314.933586911951,290.557893480128,199.227638283833,132.684994757952,99.3552674146705,67.6476642915447,50.4524144486169,31.7467912734012,37.1364308058441,45.1657926807953,49.4563266678941,57.9085963184694],[null,null,0.992710024359656,0.991297444023556,1.3707559850404,2.48573456016937,2.12174067909788,4.22196808572506,6.89451746390386,14.2542842388263,27.2989686599843,77.2790104333737,124.488902449747,212.211219054304,386.062185835459,351.383417362738,367.890411612184,483.74796010348,296.190571189989,285.240746187692,211.531083553375,195.424275987739,147.776704594048,109.082328761439,94.5720939530876,64.5324094937537,64.8225302233437,55.7363552535459,57.7551860503981,61.1455360924988],[null,null,null,10.0057536658713,11.705025057621,16.9203477582641,11.253684077736,17.3552892914275,27.1873738030276,59.5373755585898,101.135587144836,231.168924192588,410.991241929084,518.161209149925,650.48444669042,843.463384732584,736.689290076851,942.753273907657,500.433820538346,391.452508662966,356.425505406349,314.407649705896,232.645066442955,159.780698374863,117.329396562559,81.6461958134835,89.5887930864515,91.1795415017501,84.4566190552763,100.2193133455],[null,null,null,null,60.6453848553238,63.4114792468945,52.2144354418276,61.6453814521465,88.0693028692983,179.690619265332,277.66391444445,497.140377425086,672.711803705949,585.612014524502,660.037541267826,524.902675258259,394.552137746746,522.218543801549,300.081427449692,239.208734948112,236.102714966142,182.901786381823,157.746162965563,109.284570496544,102.677978501166,71.3905418222235,88.442395021538,86.9097521575191,80.7386747239366,81.2003234825386],[null,null,null,null,null,274.75222246007,246.334400473347,204.020164095167,351.308982856037,655.313594327795,718.67513357206,1069.22911553779,1132.40339744905,787.545086880975,621.124623541457,437.804726037254,306.317039162864,485.698831216538,358.155361153261,237.254833027341,221.088398837184,173.410204624642,137.759472062759,99.6368682986952,94.9267307248535,74.9662303508569,76.5156197400071,70.2008752051489,77.6313630845294,65.2490271550873],[null,null,null,null,null,null,612.977395911067,616.791704376783,839.678356874956,1257.8987902975,1470.82069905403,1932.67114970996,1957.05755319374,1327.6046356141,860.286386828842,666.130107010234,514.99979201106,707.291979108702,491.615170006881,348.374437520776,308.386371784395,237.366685934807,148.954925702628,107.448894067609,90.6563220570624,73.4692086329942,48.9357827056573,41.6978895740976,52.56459620782,35.3297149515086],[null,null,null,null,null,null,null,480.284589673875,539.151150694286,807.969299967035,800.998969235363,1067.30543662401,1224.95734305993,719.912010096184,406.60102929622,458.909460257339,426.033628138047,697.07566409111,439.532667270084,337.943789872123,303.687487112268,170.074449987242,96.7237971421793,82.5726877923568,52.8519371001768,49.9043901940578,39.8434798112371,31.656734394008,38.6587194153821,30.7849036364993],[null,null,null,null,null,null,null,null,971.383085557699,997.947755515773,779.500461861912,1384.47112728975,1327.72844590156,863.495531829104,524.014802564147,550.54438716006,466.101044692608,801.085625247833,447.920443825175,350.771177621411,267.032060425175,144.053677129823,115.175566027936,106.119570361817,65.9309207748128,63.1723025276369,42.46252421019,34.1707858292859,39.6408215646297,40.2821504364094],[null,null,null,null,null,null,null,null,null,777.586744995153,668.85172435718,979.293225027075,1052.39377341369,805.176564703726,723.817299959248,798.637125063055,631.125332358487,961.471997011301,480.680877326916,437.910470026733,329.347120734704,153.151296644692,96.274799835073,84.8035109979625,57.160878801333,57.6143923535326,43.1806854245778,44.352674807884,49.9088118063672,37.2331251707676],[null,null,null,null,null,null,null,null,null,null,202.69186270166,266.744970232147,251.862919396616,179.752832038862,193.450287609422,224.479976033296,182.80238243282,301.272828832329,160.042301985805,123.360819247794,109.803264745241,60.2342735873877,45.0324522612135,33.8523923104662,25.3085512085712,32.6867427034052,26.3472617967108,27.1224958765653,34.6254353108241,22.4958428932655],[null,null,null,null,null,null,null,null,null,null,null,58.6485394127762,58.1318652641811,47.4869774768222,49.3480346489791,51.5460520912462,37.9194991991456,70.2166677877804,40.6412399353022,30.9932737592193,24.6980508945403,14.0361452940427,10.4730485092884,8.54971249033277,7.39229837197755,10.1588175552512,8.14420302750899,9.1686585580559,12.9869113827712,8.87146808871007],[null,null,null,null,null,null,null,null,null,null,null,null,34.8277224066565,31.5490428536577,30.2983930310279,28.4615717367913,20.4730568443422,31.5042545633744,23.7390315068639,17.5339173870259,18.5672973399425,11.6017194394831,9.68226746944687,9.59379634617272,8.19411406923895,9.84307304555006,7.79647917164142,10.2851401266983,13.1975408803756,10.1487287810988],[null,null,null,null,null,null,null,null,null,null,null,null,null,13.9590438435174,15.3346007477542,12.5666922484924,9.22716746553273,15.8855807244597,12.3529725733303,9.44422098109876,9.73817794951663,7.68985671595876,6.18007447811579,7.01061942619989,6.19520989244933,7.298374249465,6.148253907436,7.13052445544163,9.79736809872234,7.02419697524598],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,3.85305211621552,3.34302652323074,2.77746279118898,2.80719793847703,2.66453911163437,2.4016708921528,2.35694625684802,2.03403609866663,1.63631202447913,1.75901095721499,1.64193089556436,2.13087374257531,1.81948101734603,2.19519460168212,3.61524463376444,3.11181952345357],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.348986212631521,0.337263901686094,0.346582860841982,0.387141554351113,0.372232728099588,0.394581155117464,0.392299644964272,0.350491734426142,0.37386470659013,0.338588035325625,0.367428849374461,0.320421627880276,0.453428995661788,0.861951326655503,0.742358075900072],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.174578981987435,0.193517292173883,0.151075053432354,0.14980377482088,0.164130634859565,0.158626654399182,0.154866390938817,0.175503967218923,0.143931192031282,0.17067968675761,0.138597120882725,0.173013364543859,0.321532652839559,0.309599922838682],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.0764149384434859,0.0739611863345553,0.0741736129654264,0.08429431475341,0.0871611025309224,0.0832780859991925,0.104524418408265,0.0981774460420011,0.137592303533885,0.112152739161631,0.13947407311262,0.206176816380705,0.234618906737521],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.0713658958827694,0.0718061033401324,0.0798549001760506,0.0798556829536606,0.0675640253336693,0.0653202464315051,0.0679524195509144,0.104283665363289,0.0907115585173184,0.117366989741173,0.178247664559595,0.209376584790956],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.058672146123528,0.0581653639488653,0.0614924546007881,0.0517478633767798,0.0497462974901659,0.050649120615524,0.0592185004614519,0.0499722194368866,0.06011497635405,0.0899132880997247,0.108891746332706],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.0799038967818204,0.0803225246632449,0.0772259231021811,0.0717403770737773,0.0688587309243091,0.0751933584131964,0.064261327261458,0.0751196527538811,0.0986970804664016,0.1136128292566],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.0863491720337775,0.0833233236459724,0.0768052166936039,0.0748535208737247,0.0807491906137954,0.0739390606418589,0.07908439944304,0.0991956733683591,0.123000255680574],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.0743705902655706,0.0736742579521648,0.0730143796644148,0.0742058409977965,0.0698789025138686,0.0770284604391065,0.0928139171937271,0.13052181462195],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.128518168938981,0.125284686064181,0.140013476587418,0.133773404979978,0.136970059093,0.160643097471897,0.240986876320114],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.155058553347496,0.178209712006549,0.172263400408608,0.178548829717773,0.206041642169144,0.260695432192874],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.391461816666285,0.392626163856411,0.407988738891266,0.454969392444295,0.491841163806566],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.742494082779438,0.752923776282703,0.799866517921444,0.846451373416529],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1.32500427377546,1.35254732338237,1.48839648014822],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1.14593077011206,1.37240183435146],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1.12150893170464]],"type":"surface","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>
<!--/html_preserve-->
Performance chart
-----------------

Performance chart with the most profitable parameters:

![](ReportIchimoku_files/figure-markdown_github/Performance-1.png)

Summary Table
-------------

Summary table of the strategy:

    ##                       Summary   All.Trades
    ## 1                  Net Profit  19535592.32
    ## 2                Gross Profit  53912529.64
    ## 3                  Gross Loss -34351954.11
    ## 4               Profit Factor         1.57
    ## 5                                     0.00
    ## 6                Total Trades      1307.00
    ## 7               Profit Trades       633.00
    ## 8                 Loss Trades       666.00
    ## 9                 Even Trades         8.00
    ## 10         Percent Profitable         0.48
    ## 11                                    0.00
    ## 12   Average Trade Net Profit     14946.90
    ## 13      Average Winning Trade     85169.87
    ## 14       Average Losing Trade    -51579.51
    ## 15                Largest Win   3701820.06
    ## 16               Largest Loss  -1490162.25
    ## 17                                    0.00
    ## 18        Max Conecutive Wins         8.00
    ## 19     Max Consecutive Losses         9.00
    ## 20                                    0.00
    ## 21            Max Shares Held      5571.15
    ## 22                                    0.00
    ## 23 Max Daily Percent Drawdown       -43.29

Drawdowns Distribution
----------------------

Distribution of daily maximum drawdon percentage of balance:

    ## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.

![](ReportIchimoku_files/figure-markdown_github/Drawdown%20History-1.png)
